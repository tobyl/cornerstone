(()=>{(function(){var n=document.querySelector("#intro"),s=document.querySelector("#play-pause"),i=document.querySelector("#playIcon"),c=document.querySelector("#pauseIcon");n&&s&&s.addEventListener("click",function(){n.paused?(n.play(),c.classList.remove("hidden"),i.classList.add("hidden")):(n.pause(),c.classList.add("hidden"),i.classList.remove("hidden"))});var u=document.querySelector("#year"),h=new Date().getFullYear();u.innerHTML=h;var t=document.getElementById("contactForm"),p=document.getElementById("innerForm");async function y(o){o.preventDefault();var r=document.getElementById("my-form-status"),a=new FormData(o.target),d="",l="",v=["depression","substance_abuse","family_issues","anger_management","child_behaviour","trauma","autism","anxiety","child_learning_disabilities","couples_counselling","child_psychology","bereavement","adhd","other"],f=["mornings","afternoons","evenings"];v.forEach(e=>{a.get(e)==="on"&&(d+=e+", ",a.delete(e))}),f.forEach(e=>{a.get(e)==="on"&&(l+=e+", ",a.delete(e))}),a.append("concerns",d),a.append("times",l),fetch(o.target.action,{method:t.method,body:a,headers:{Accept:"application/json"}}).then(e=>{e.ok?(r.style.display="block",p.classList.add("hidden","transition-all","duration-500"),window.scrollTo({top:0,behavior:"smooth"}),t.reset()):e.json().then(m=>{Object.hasOwn(m,"errors")?r.innerHTML=m.errors.map(g=>g.message).join(", "):r.innerHTML="Oops! There was a problem submitting your form"})}).catch(e=>{console.log("e: ",e),r.innerHTML="Oops! There was a problem submitting your form"})}t&&t.addEventListener("submit",y)})();})();
