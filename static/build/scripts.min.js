(()=>{(function(){var n=document.querySelector("#intro"),s=document.querySelector("#play-pause"),i=document.querySelector("#playIcon"),c=document.querySelector("#pauseIcon");n&&s&&s.addEventListener("click",function(){n.paused?(n.play(),c.classList.remove("hidden"),i.classList.add("hidden")):(n.pause(),c.classList.add("hidden"),i.classList.remove("hidden"))});var u=document.querySelector("#year"),m=new Date().getFullYear();u.innerHTML=m;var a=document.getElementById("contactForm"),h=document.getElementById("innerForm");async function y(o){o.preventDefault();var r=document.getElementById("my-form-status"),t=new FormData(o.target),d="",p=["depression","substance_abuse","family_issues","anger_management","child_behaviour","trauma","autism","anxiety","child_learning_disabilities","couples_counselling","child_psychology","bereavement","adhd","other"];p.forEach(e=>{t.get(e)==="on"&&(d+=e+", ",t.delete(e))}),t.append("concerns",d),fetch(o.target.action,{method:a.method,body:t,headers:{Accept:"application/json"}}).then(e=>{e.ok?(r.innerHTML="Thanks for your submission!",h.classList.add("hidden","transition-all","duration-500"),window.scrollTo({top:0,behavior:"smooth"}),a.reset()):e.json().then(l=>{Object.hasOwn(l,"errors")?r.innerHTML=l.errors.map(v=>v.message).join(", "):r.innerHTML="Oops! There was a problem submitting your form"})}).catch(e=>{console.log("e: ",e),r.innerHTML="Oops! There was a problem submitting your form"})}a&&a.addEventListener("submit",y)})();})();
